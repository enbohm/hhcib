<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:pf="http://jsf.playerfinder.net/components"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

	<c:choose>
		<c:when test="#{loggedInUserFacade.isUserLoggedIn()}">
			<a
				href="
	${facesContext.externalContext.requestContextPath}/subject/new_subject_description.xhtml?category=#{category}"
				class="button">Lägg till ny beskrivning &gt;&gt;&gt;</a>

		</c:when>
		<c:otherwise>
			<a
				href="
	${facesContext.externalContext.requestContextPath}/login/login.xhtml"
				class="link">Logga in</a> för att lägga till beskrivningar
		</c:otherwise>
	</c:choose>


	<ui:repeat var="subject"
		value="#{categoryFacade.getSubjectsFor(category)}">

		<div id="subject-description">

			<div id="rating">
				<pf:rating totalStars="5" step="1" value="#{subject.rating}"
					disabled="true">
				</pf:rating>
			</div>
			<h:outputText value="#{subject.description}" escape="false" />
			<a
				href="
	${facesContext.externalContext.requestContextPath}/subject/update_subject.xhtml?subjectId=#{subject.id}&amp;category=#{subject.category}"
				class="button">Ändra</a> <a
				href="
	${facesContext.externalContext.requestContextPath}/subject/show_subject.xhtml?subjectId=#{subject.id}&amp;category=#{subject.category}"
				class="button">Detaljer</a>
		</div>
	</ui:repeat>
</ui:composition>
